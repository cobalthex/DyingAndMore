GunClass {
    Projectile: @"Weapons/Projectiles/Needle.ent.tk";

    MaxAmmo: 2000;
    #RoundsPerBurst: 3;
    ProjectilesPerRound: 1;
    #MaxBursts: 3;
    #BurstCooldownTime: 400msec;
    ChargeTime: 0msec;
    DischargeTime: 400rpm;
    CooldownTime: 2sec;
    CanAlwaysCharge: true;
    ErrorAngle: [-1deg 1deg]; # test

    DischargeEffect: {
        Effects: [
            RandomEffect {
                Effects: [
                    ParticleEffect {
                        Class: {
                            Sprite: {
                                Texture: @"./MuzzleFlash.png";
                                width: 48;
                                height: 48;
                                frameLength: 20msec;
                                frameCount: 4;
                            };
                            Blend: BlendState.AlphaBlend;
                            InitialSpeed: [0 0];
                            Drag: 1.3;
                            LifeSpan: [80msec 80msec];
                        };
                        Count: [3 12];
                        Spread: [-30deg 30deg];
                    }

                    ParticleEffect {
                        Class: {
                            Sprite: {
                                Texture: @"./MuzzleFlash2.png";
                                width: 48;
                                height: 48;
                                frameLength: 20msec;
                                frameCount: 4;
                            };
                            Blend: BlendState.AlphaBlend;
                            InitialSpeed: [0 0];
                            Drag: 1.3;
                            LifeSpan: [80msec 80msec];
                        }
                        Count: [3 12];
                        Spread: [-30deg 30deg];
                    };
                ];
            };
            ParticleEffect {
                Class: {
                    Sprite: {
                        Texture: @"./ejection.png";
                        width: 8;
                        height: 8;
                        frameLength: 20msec;
                        frameCount: 1;
                        IsLooping: true;
                    };
                    Blend: BlendState.NonPremultiplied;
                    InitialSpeed: [200 400];
                    Drag: 1.5;
                    LifeSpan: 800msec;
                    ColorOverTime: {
                        Values: [
                            [0 Color.White];
                            [1 [64 64 64 0]];
                        ];
                    };

                    ScaleOverTime: {
                        Values: [
                            [0 1]
                            [1 0.5]
                        ];
                    };

                    SpinOverTime: {
                        Values: [
                            [0 0]
                            [1 3pi]
                        ];
                    };
                }
                Count: 1;
                Spread: [-120deg -60deg];
            };
        ]
    }
}